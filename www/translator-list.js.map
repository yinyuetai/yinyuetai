{"version":3,"sources":["webpack:///./app/src/translator-list.js","webpack:///./app/src/module/tools/modelBefore.js?1a15***","webpack:///./app/stylesheets/translator-list.scss","webpack:///./app/src/views/translatorList/main.view.js","webpack:///./app/src/views/translatorList/livelist.view.js","webpack:///./app/src/models/translatorList/liveList.model.js","webpack:///./app/src/views/translatorList/template/listItem.html"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;ACTD;AACA;AACA;AACA;AACA,gCAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA,0C;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;;;;;;;;AClCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,EAAC;;AAED;;;;;;;;ACjDA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAY,YAAY;AACxB;AACA;AACA,kBAAiB,IAAI,eAAe,IAAI;AACxC,4CAA2C,YAAY;AACvD;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,4BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC5DA,qBAAoB,oBAAoB,oBAAoB,yBAAyB,iBAAiB,eAAe,6JAA6J,aAAa,0KAA0K,aAAa,8BAA8B,sBAAsB,oBAAoB,OAAO,K","file":"translator-list.js","sourcesContent":["/**\r\n * Created by caoxifeng on 16/4/11.\r\n */\r\nvar $ = require('jquery');\r\nrequire('../stylesheets/translator-list.scss');\r\nvar MainView = require('./views/translatorList/main.view');\r\n$(function () {\r\n    // 入口视图\r\n    var mainView = new MainView();\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/translator-list.js\n ** module id = 0\n ** module chunks = 7\n **/","var user = require('user');\r\nmodule.exports = {\r\n    dealParamsJsonP: function(model, params, useToken) {\r\n        var _params = params || {};\r\n        _params.deviceinfo = '{\"aid\":\"30001001\"}';\r\n        if (!!useToken && user.isLogined()) {\r\n            _params.access_token = 'web-' + user.getToken();\r\n        }\r\n        var promise = model.executeJSONP(_params);\r\n        return promise;\r\n    }\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/module/tools/modelBefore.js\n ** module id = 117\n ** module chunks = 3 4 5 6 7 8\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/stylesheets/translator-list.scss\n ** module id = 166\n ** module chunks = 7\n **/","'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View;\r\nvar topbar = require('../../module/topbar/topbar.js');\r\nvar LiveList = require('./livelist.view.js');\r\n\r\nvar View = BaseView.extend({\r\n  el: '',\r\n  rawLoader: function () {\r\n    return '';\r\n  },\r\n  context: function (args) {\r\n    console.log(args);\r\n  },\r\n  beforeMount: function () {\r\n    //  初始化一些自定义属性\r\n    this.topbar = new topbar();\r\n    this.liveList = new LiveList();\r\n  },\r\n  afterMount: function () {\r\n    //  获取findDOMNode DOM Node\r\n  },\r\n  ready: function () {\r\n    //  初始化\r\n  },\r\n  beforeDestroy: function () {\r\n    //  进入销毁之前,将引用关系设置为null\r\n  },\r\n  destroyed: function () {\r\n    //  销毁之后\r\n  }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/translatorList/main.view.js\n ** module id = 167\n ** module chunks = 7\n **/","'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar BaseView = base.View;\r\nvar LivelistModel = require('../../models/translatorList/liveList.model.js');\r\nvar dealModel = require('modelBefore').dealParamsJsonP;\r\n\r\nvar View = BaseView.extend({\r\n    el: '.con',\r\n    rawLoader: function() {\r\n        return '';\r\n    },\r\n    context: function(args) {\r\n        console.log(args);\r\n    },\r\n    beforeMount: function() {\r\n        //  初始化一些自定义属性\r\n        this.livelistModel = new LivelistModel();\r\n    },\r\n    afterMount: function() {\r\n        //  获取findDOMNode DOM Node\r\n        this.liveListItem = require('./template/listItem.html');\r\n    },\r\n    ready: function() {\r\n        //  初始化\r\n        var self = this;\r\n        var home_list_params = {\r\n            videoType: 1,\r\n            sortType: 1,\r\n            offset: 0,\r\n            size: 30,\r\n        };\r\n        var promise = dealModel(this.livelistModel, home_list_params);\r\n        promise.done(function(res) {\r\n            self.renderLiveList(res);\r\n        });\r\n    },\r\n    beforeDestroy: function() {\r\n        //  进入销毁之前,将引用关系设置为null\r\n    },\r\n    destroyed: function() {\r\n        //  销毁之后\r\n    },\r\n    renderLiveList : function (res) {\r\n        var html = this.compileHTML(this.liveListItem, res.data);\r\n        this.$el.append(html);\r\n    }\r\n});\r\n\r\nmodule.exports = View;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/translatorList/livelist.view.js\n ** module id = 168\n ** module chunks = 7\n **/","'use strict';\r\n\r\nvar base = require('base-extend-backbone');\r\nvar Config = require('config');\r\nvar BaseModel = base.Model;\r\nvar env = Config.env[Config.scheme];\r\n\r\nvar Model = BaseModel.extend({\r\n    url: '{{url_prefix}}/video/list.json',\r\n    beforeEmit: function beforeEmit() {\r\n        // 给请求地址替换一下环境变量\r\n        if (/^\\{{0,2}(url_prefix)\\}{0,2}/.test(this.url)) {\r\n            this.url = this.url.replace('{{url_prefix}}', env.url_prefix);\r\n        }\r\n    },\r\n    formatter: function(response) {\r\n        //formatter方法可以格式化数据\r\n        var list = response.data.videos;\r\n        if (list.length > 0) {\r\n            for (var i = 0; i < list.length; i++) {\r\n                list[i].T_playtime = sec2time(list[i].playtime);\r\n                list[i].T_onAirStartTime = dateToYMD(list[i].onAirStartTime);\r\n            }\r\n        }\r\n        return response;\r\n    }\r\n});\r\nfunction toD(n) {\r\n    return n >= 10 ? '' + n : '0' + n;\r\n}\r\n\r\nfunction dateToYMD(timestamp) {\r\n    var date = new Date(),\r\n        Y, M, D, h, s;\r\n    date.setTime(timestamp);\r\n    Y = date.getFullYear();\r\n    M = date.getMonth() + 1;\r\n    D = date.getDate();\r\n    h = date.getHours();\r\n    s = date.getSeconds();\r\n    return Y + '年' + toD(M) + '月' + toD(D) + '日 ' + toD(h) + ':' + toD(s);\r\n}\r\n\r\nfunction sec2time(sec) {\r\n    if (sec == 'undefined') {\r\n        return '00:00';\r\n    }\r\n    var h = parseInt(sec / 3600);\r\n    var m = parseInt((sec - h * 3600) / 60);\r\n    var s = parseInt(sec - h * 3600 - m * 60);\r\n    return h > 0 ? h + ':' + toD(m) + ':' + toD(s) : toD(m) + ':' + toD(s);\r\n}\r\nvar shared = null;\r\nModel.sharedInstanceModel = function sharedInstanceModel() {\r\n    if (!shared) {\r\n        shared = new Model();\r\n    }\r\n    return shared;\r\n};\r\n\r\nmodule.exports = Model;\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/models/translatorList/liveList.model.js\n ** module id = 169\n ** module chunks = 7\n **/","module.exports = \"{{each videos as val}}\\r\\n<tr>\\r\\n\\t<td>{{val.channel.channelName}}</td>\\r\\n\\t<td>{{val.videoName}}</td>\\r\\n\\t<!-- //&channelid=<%=val.channel.channelId%>&videoType=<%=val.videoType%> -->\\r\\n\\t<td><a target=\\\"_blank\\\" href=\\\"/translator-pre.html?videoId={{val.videoId}}\\\">点击跳转翻译(提前)</a></td>\\r\\n\\t<!-- //&channelid=<%=val.channel.channelId%>&videoType=<%=val.videoType%> -->\\r\\n\\t<td><a target=\\\"_blank\\\" href=\\\"/translator.html?videoId={{val.videoId}}\\\">点击跳转翻译</a></td>\\r\\n\\t<td>{{val.T_onAirStartTime}}</td>\\r\\n</tr>\\r\\n{{/each}}\\r\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/views/translatorList/template/listItem.html\n ** module id = 170\n ** module chunks = 7\n **/"],"sourceRoot":""}